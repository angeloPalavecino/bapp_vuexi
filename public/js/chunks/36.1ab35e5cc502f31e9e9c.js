(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"6wlp":function(a,e,t){"use strict";var r=t("bJaO");function i(a){if(null==a)throw new TypeError("Cannot destructure undefined")}var o={agregarItem:function(a,e){return i(a),new Promise((function(a,t){r.a.post("/api/v1"+e.Url+"store",e.item).then((function(e){a(e)})).catch((function(a){t(a)}))}))},editarItem:function(a,e){return i(a),new Promise((function(a,t){r.a.put("/api/v1"+e.Url+e.item.id,e.item).then((function(e){a(e)})).catch((function(a){t(a)}))}))},traerItems:function(a,e){var t=a.commit;return new Promise((function(a,i){r.a.get("/api/v1"+e).then((function(e){t("SET_ITEMS",e.data.items),a(e)})).catch((function(a){i(a)}))}))},traerItem:function(a,e){return i(a),new Promise((function(a,t){r.a.get("/api/v1"+e.Url+"".concat(e.Id)).then((function(e){a(e)})).catch((function(a){t(a)}))}))},borrarItem:function(a,e){var t=a.commit;return new Promise((function(a,i){r.a.delete("/api/v1"+e.Url+"".concat(e.Id)).then((function(r){t("REMOVE_RECORD",e.Id),a(r)})).catch((function(a){i(a)}))}))},borrarMasivoItem:function(a,e){var t=a.commit;return new Promise((function(a,i){r.a.post("/api/v1"+e.Url+"borrar",e.Items).then((function(r){t("REMOVE_MASSIVE_RECORD",e.Items),a(r)})).catch((function(a){i(a)}))}))}};e.a={isRegistered:!1,namespaced:!0,state:{items:[]},mutations:{SET_ITEMS:function(a,e){a.items=e},REMOVE_RECORD:function(a,e){var t=a.items.findIndex((function(a){return a.id==e}));a.items.splice(t,1)},REMOVE_MASSIVE_RECORD:function(a,e){e.forEach((function(e){var t=a.items.findIndex((function(a){return a.id==e.id}));a.items.splice(t,1)}))}},actions:o,getters:{}}},FIRa:function(a,e,t){"use strict";t.r(e);var r=t("Snq/"),i=t.n(r),o=t("bJaO");t("e7F3").a.localize("en",{custom:{tipo:{required:"El tipo es requerido"},marca:{required:"La marca es requerida"},modelo:{required:"El modelo es requerido"},ano:{required:"El año es requerido",numeric:"El año debe ser numerico"},motor:{required:"El motor es requerido",numeric:"El n° de motor debe ser numerico"},patente:{required:"La patente es requerida"},color:{required:"El color es requerido"},asientos:{required:"Los asientos son requerido"},numero_movil:{required:"Los asientos son requerido",numeric:"El n° de movil debe ser numerico"},asociados:{required:"El asociado es requerido"},empresas:{required:"La empresa es requerida"},tipo_documento:{required:"El tipo de documento es requerido"},fecha_vencimiento:{required:"La fecha de vencimiento es requerida"},documents:{required:"El documento es requerido"}}});var s={components:{vSelect:i.a},props:{data:{type:Object,required:!0}},data:function(){return{urlApi:"/car/car/",data_local:{empresa_id:this.data.empresa_id?this.data.empresa_id:null,tipo:this.data.tipo?this.data.tipo:null,marca:this.data.marca?this.data.marca:null,modelo:this.data.modelo?this.data.modelo:null,ano:this.data.ano?this.data.ano:null,habilitado:this.data.habilitado,motor:this.data.motor?this.data.motor:null,patente:this.data.patente?this.data.patente:null,color:this.data.color?this.data.color:null,asientos:this.data.asientos?this.data.asientos:1,numero_movil:this.data.numero_movil?this.data.numero_movil:null,id:this.data.id?this.data.id:null,driver_id:this.data.driver_id?this.data.driver_id:null},empresasOptions:[],asociadosOptions:[]}},computed:{validateForm:function(){return!this.errors.any()}},mounted:function(){},methods:{save_changes:function(){var a=this;this.$validator.validateAll().then((function(e){e&&a.$store.dispatch("itemManagement/editarItem",{item:a.data_local,Url:a.urlApi}).then((function(){a.$router.push({name:"moviles"}),a.showDeleteSuccess()})).catch((function(e){var t=300==e.response.status?e.response.data.message:e;a.$vs.notify({title:"Error",text:t,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}))},showDeleteSuccess:function(){this.$vs.notify({color:"success",title:"Guardar registros",text:"Los registros se han guardado exitosamente."})},reset_data:function(){this.data_local={empresa_id:this.data.empresa_id?this.data.empresa_id:null,tipo:this.data.tipo?this.data.tipo:null,marca:this.data.marca?this.data.marca:null,modelo:this.data.modelo?this.data.modelo:null,ano:this.data.ano?this.data.ano:null,habilitado:this.data.habilitado,motor:this.data.motor?this.data.motor:null,patente:this.data.patente?this.data.patente:null,color:this.data.color?this.data.color:null,asientos:this.data.asientos?this.data.asientos:1,numero_movil:this.data.numero_movil?this.data.numero_movil:null,id:this.data.id?this.data.id:null,driver_id:this.data.driver_id?this.data.driver_id:null},this.errors.clear()},traeOtrosDatos:function(){var a=this;o.a.get("/api/v1/empresas/listemp/").then((function(e){a.empresasOptions=e.data.items})).catch((function(e){var t=300==e.response.status?e.response.data.message:e;a.$vs.notify({title:"Error",text:t,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})),o.a.get("/api/v1/asociado/asociado/").then((function(e){a.asociadosOptions=e.data.items})).catch((function(e){var t=300==e.response.status?e.response.data.message:e;a.$vs.notify({title:"Error",text:t,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}},created:function(){this.traeOtrosDatos()}},l=t("KHd+"),n=Object(l.a)(s,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"item-edit"}},[t("div",{staticClass:"vx-row mt-6"},[t("vs-divider",{attrs:{color:"primary"}},[t("h5",[a._v("Datos Movil")])]),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full p-1",attrs:{label:"Empresas",name:"empresas",dir:a.$vs.rtl?"rtl":"ltr"},model:{value:a.data_local.empresa_id,callback:function(e){a.$set(a.data_local,"empresa_id",e)},expression:"data_local.empresa_id"}},a._l(a.empresasOptions,(function(a){return t("vs-select-item",{key:a.id,attrs:{value:a.id,text:a.razon_social}})})),1),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("empresas"),expression:"errors.has('empresas')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("empresas")))])],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full p-1",attrs:{label:"Asociados",name:"asociados",dir:a.$vs.rtl?"rtl":"ltr"},model:{value:a.data_local.driver_id,callback:function(e){a.$set(a.data_local,"driver_id",e)},expression:"data_local.driver_id"}},a._l(a.asociadosOptions,(function(a){return t("vs-select-item",{key:a.id,attrs:{value:a.id,text:a.name}})})),1),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("asociados"),expression:"errors.has('asociados')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("asociados")))])],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"w-full p-1",attrs:{"label-placeholder":"N° Movil",name:"numero_movil",danger:!!a.errors.first("numero_movil"),"danger-text":a.errors.first("numero_movil")?a.errors.first("numero_movil"):"","val-icon-danger":"clear"},model:{value:a.data_local.numero_movil,callback:function(e){a.$set(a.data_local,"numero_movil",e)},expression:"data_local.numero_movil"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full  p-1",attrs:{"label-placeholder":"Tipo",name:"tipo",danger:!!a.errors.first("tipo"),"danger-text":a.errors.first("tipo")?a.errors.first("tipo"):"","val-icon-danger":"clear"},model:{value:a.data_local.tipo,callback:function(e){a.$set(a.data_local,"tipo",e)},expression:"data_local.tipo"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full  p-1",attrs:{"label-placeholder":"Marca",name:"marca",danger:!!a.errors.first("marca"),"danger-text":a.errors.first("marca")?a.errors.first("marca"):"","val-icon-danger":"clear"},model:{value:a.data_local.marca,callback:function(e){a.$set(a.data_local,"marca",e)},expression:"data_local.marca"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full  p-1",attrs:{"label-placeholder":"Modelo",name:"modelo",danger:!!a.errors.first("modelo"),"danger-text":a.errors.first("modelo")?a.errors.first("modelo"):"","val-icon-danger":"clear"},model:{value:a.data_local.modelo,callback:function(e){a.$set(a.data_local,"modelo",e)},expression:"data_local.modelo"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"w-full p-1",attrs:{"label-placeholder":"Año",name:"ano",danger:!!a.errors.first("ano"),"danger-text":a.errors.first("ano")?a.errors.first("ano"):"","val-icon-danger":"clear"},model:{value:a.data_local.ano,callback:function(e){a.$set(a.data_local,"ano",e)},expression:"data_local.ano"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"w-full p-1",attrs:{"label-placeholder":"N° Motor",name:"motor",danger:!!a.errors.first("motor"),"danger-text":a.errors.first("motor")?a.errors.first("motor"):"","val-icon-danger":"clear"},model:{value:a.data_local.motor,callback:function(e){a.$set(a.data_local,"motor",e)},expression:"data_local.motor"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full p-1",attrs:{"label-placeholder":"Patente",name:"patente",danger:!!a.errors.first("patente"),"danger-text":a.errors.first("patente")?a.errors.first("patente"):"","val-icon-danger":"clear"},model:{value:a.data_local.patente,callback:function(e){a.$set(a.data_local,"patente",e)},expression:"data_local.patente"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full p-1",attrs:{"label-placeholder":"Color",name:"color",danger:!!a.errors.first("color"),"danger-text":a.errors.first("color")?a.errors.first("color"):"","val-icon-danger":"clear"},model:{value:a.data_local.color,callback:function(e){a.$set(a.data_local,"color",e)},expression:"data_local.color"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("span",{staticClass:" text-sm"},[a._v("N° Asientos")]),a._v(" "),t("vs-input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"asientos",min:"1","icon-inc":"expand_less","icon-dec":"expand_more"},model:{value:a.data_local.asientos,callback:function(e){a.$set(a.data_local,"asientos",e)},expression:"data_local.asientos"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("label",{staticClass:"vs-input--label "},[a._v("Habilitado")]),a._v(" "),t("br"),a._v(" "),t("vs-switch",{staticClass:"mt-2",model:{value:a.data_local.habilitado,callback:function(e){a.$set(a.data_local,"habilitado",e)},expression:"data_local.habilitado"}})],1)],1),a._v(" "),t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col w-full"},[t("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[t("vx-tooltip",{attrs:{color:"primary",text:"Guardar"}},[t("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:!a.validateForm},on:{click:a.save_changes}},[a._v("Guardar Cambios")])],1),a._v(" "),t("vx-tooltip",{attrs:{color:"primary",text:"Volver"}},[t("vs-button",{staticClass:"ml-4 mt-2",attrs:{"icon-pack":"feather",icon:"icon-arrow-left",to:{name:"moviles"}}},[a._v("Volver")])],1),a._v(" "),t("vx-tooltip",{attrs:{color:"primary",text:"Limpiar"}},[t("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"warning"},on:{click:a.reset_data}},[a._v("Limpiar")])],1)],1)])])])}),[],!1,null,null,null).exports,d=t("6wlp"),c={components:{itemEditSection1:n},data:function(){return{item_data:null,item_not_found:!1,urlApi:"/car/car/"}},watch:{activeTab:function(){this.fetch_item_data(this.$route.params.itemId)}},methods:{fetch_item_data:function(a){var e=this;this.$store.dispatch("itemManagement/traerItem",{Id:a,Url:this.urlApi}).then((function(a){e.item_data=a.data.item[0]})).catch((function(a){404!==a.response.status?300==a.response.status?e.$vs.notify({title:"Error",text:a.response.data.message,color:"danger",iconPack:"feather",icon:"icon-alert-circle"}):e.$vs.notify({title:"Error",text:a,color:"danger",iconPack:"feather",icon:"icon-alert-circle"}):e.item_not_found=!0}))}},created:function(){d.a.isRegistered||(this.$store.registerModule("itemManagement",d.a),d.a.isRegistered=!0),this.fetch_item_data(this.$route.params.itemId)}},u=Object(l.a)(c,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"page-item-edit"}},[t("vs-alert",{attrs:{color:"danger",title:"Movil no encontrado",active:a.item_not_found},on:{"update:active":function(e){a.item_not_found=e}}},[t("span",[a._v("El movil con id: "+a._s(a.$route.params.itemId)+" no fue encontrado. ")]),a._v(" "),t("span",[t("span",[a._v("Mira  ")]),t("router-link",{staticClass:"text-inherit underline",attrs:{to:{name:"moviles"}}},[a._v("Todos los moviles")])],1)]),a._v(" "),a.item_data?t("vx-card",[t("item-edit-section1",{staticClass:"mt-4",attrs:{data:a.item_data}})],1):a._e()],1)}),[],!1,null,null,null);e.default=u.exports}}]);