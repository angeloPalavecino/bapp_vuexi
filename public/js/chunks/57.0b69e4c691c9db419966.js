(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"6wlp":function(a,e,t){"use strict";var r=t("bJaO");function s(a){if(null==a)throw new TypeError("Cannot destructure undefined")}var i={agregarItem:function(a,e){return s(a),new Promise((function(a,t){r.a.post("/api/v1"+e.Url+"store",e.item).then((function(e){a(e)})).catch((function(a){t(a)}))}))},editarItem:function(a,e){return s(a),new Promise((function(a,t){var s="";s=e.item.id?e.Url+e.item.id:e.Url,r.a.put("/api/v1"+s,e.item).then((function(e){a(e)})).catch((function(a){t(a)}))}))},traerItems:function(a,e){var t=a.commit;return new Promise((function(a,s){r.a.get("/api/v1"+e).then((function(e){t("SET_ITEMS",e.data.items),a(e)})).catch((function(a){s(a)}))}))},traerItem:function(a,e){return s(a),new Promise((function(a,t){r.a.get("/api/v1"+e.Url+"".concat(e.Id)).then((function(e){a(e)})).catch((function(a){t(a)}))}))},borrarItem:function(a,e){var t=a.commit;return new Promise((function(a,s){r.a.delete("/api/v1"+e.Url+"".concat(e.Id)).then((function(r){t("REMOVE_RECORD",e.Id),a(r)})).catch((function(a){s(a)}))}))},borrarMasivoItem:function(a,e){var t=a.commit;return new Promise((function(a,s){r.a.post("/api/v1"+e.Url+"borrar",e.Items).then((function(r){t("REMOVE_MASSIVE_RECORD",e.Items),a(r)})).catch((function(a){s(a)}))}))}};e.a={isRegistered:!1,namespaced:!0,state:{items:[]},mutations:{SET_ITEMS:function(a,e){a.items=e},REMOVE_RECORD:function(a,e){var t=a.items.findIndex((function(a){return a.id==e}));a.items.splice(t,1)},REMOVE_MASSIVE_RECORD:function(a,e){e.forEach((function(e){var t=a.items.findIndex((function(a){return a.id==e.id}));a.items.splice(t,1)}))}},actions:i,getters:{}}},rLRN:function(a,e,t){"use strict";t.r(e);var r=t("Snq/"),s=t.n(r),i=t("bJaO");t("e7F3").a.localize("en",{custom:{empresas:{required:"La empresa es requerida"},num_psj_min:{required:"El campo es requerido"},num_psj_max:{required:"El campo es requerido"},fac_rang_min:{required:"El campo es requerido",decimal:"El valor debe ser numerico"},fac_rang_max:{required:"El campo es requerido",decimal:"El valor debe ser numerico"},valor:{required:"El campo es requerido",decimal:"El valor debe ser numerico"},fac_rang_fz1:{required:"El campo es requerido",decimal:"El valor debe ser numerico"},valor_fz1:{required:"El campo es requerido",decimal:"El valor debe ser numerico"},fac_rang_fz2:{required:"El campo es requerido",decimal:"El valor debe ser numerico"},valor_fz2:{required:"El campo es requerido",decimal:"El valor debe ser numerico"}}});var n={components:{vSelect:s.a},props:{data:{type:Object,required:!0}},data:function(){return{urlApi:"/tarifas/pasajeros/",data_local:{id:this.data.id?this.data.id:null,num_psj_min:this.data.num_psj_min,num_psj_max:this.data.num_psj_max,fac_rang_min:this.data.fac_rang_min?this.data.fac_rang_min:null,fac_rang_max:this.data.fac_rang_max?this.data.fac_rang_max:null,valor:this.data.valor?this.data.valor:null,fac_rang_fz1:this.data.fac_rang_fz1?this.data.fac_rang_fz1:null,valor_fz1:this.data.valor_fz1?this.data.valor_fz1:null,fac_rang_fz2:this.data.fac_rang_fz2?this.data.fac_rang_fz2:null,valor_fz2:this.data.valor_fz2?this.data.valor_fz2:null,empresa_id:this.data.empresa_id?this.data.empresa_id:null},empresasOptions:[]}},computed:{validateForm:function(){return!this.errors.any()}},mounted:function(){},methods:{save_changes:function(){var a=this;this.$validator.validateAll().then((function(e){e&&a.$store.dispatch("itemManagement/editarItem",{item:a.data_local,Url:a.urlApi}).then((function(){a.$router.push({name:"pasajeros-view",params:{itemId:data_local.empresa_id}}),a.showDeleteSuccess()})).catch((function(e){var t=300==e.response.status?e.response.data.message:e;a.$vs.notify({title:"Error",text:t,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}))},showDeleteSuccess:function(){this.$vs.notify({color:"success",title:"Guardar registros",text:"Los registros se han guardado exitosamente."})},reset_data:function(){this.data_local={id:this.data.id?this.data.id:null,num_psj_min:this.data.num_psj_min,num_psj_max:this.data.num_psj_max,fac_rang_min:this.data.fac_rang_min?this.data.fac_rang_min:null,fac_rang_max:this.data.fac_rang_max?this.data.fac_rang_max:null,valor:this.data.valor?this.data.valor:null,fac_rang_fz1:this.data.fac_rang_fz1?this.data.fac_rang_fz1:null,valor_fz1:this.data.valor_fz1?this.data.valor_fz1:null,fac_rang_fz2:this.data.fac_rang_fz2?this.data.fac_rang_fz2:null,valor_fz2:this.data.valor_fz2?this.data.valor_fz2:null,empresa_id:this.data.empresa_id?this.data.empresa_id:null},this.errors.clear()},traeOtrosDatos:function(){var a=this;i.a.get("/api/v1/empresas/empresas").then((function(e){a.empresasOptions=e.data.items})).catch((function(e){var t=300==e.response.status?e.response.data.message:e;a.$vs.notify({title:"Error",text:t,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}},created:function(){this.traeOtrosDatos()}},l=t("KHd+"),o=Object(l.a)(n,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"item-edit"}},[t("div",{staticClass:"vx-row mt-6"},[t("vs-divider",{attrs:{color:"primary"}},[t("h5",[a._v("Datos Tarifa")])]),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full ",attrs:{label:"Empresas",disabled:"true",name:"empresas",dir:a.$vs.rtl?"rtl":"ltr"},model:{value:a.data_local.empresa_id,callback:function(e){a.$set(a.data_local,"empresa_id",e)},expression:"data_local.empresa_id"}},a._l(a.empresasOptions,(function(a){return t("vs-select-item",{key:a.id,attrs:{value:a.id,text:a.razon_social}})})),1),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("empresas"),expression:"errors.has('empresas')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("empresas")))])],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"}),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-4"},[t("span",{staticClass:" text-sm"},[a._v("N° Pasajeros Min.")]),a._v(" "),t("vs-input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full p-1",attrs:{name:"num_psj_min",min:"1","icon-inc":"expand_less","icon-dec":"expand_more"},model:{value:a.data_local.num_psj_min,callback:function(e){a.$set(a.data_local,"num_psj_min",e)},expression:"data_local.num_psj_min"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("num_psj_min"),expression:"errors.has('num_psj_min')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("num_psj_min")))])],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-4"},[t("span",{staticClass:" text-sm"},[a._v("N° Pasajeros Max.")]),a._v(" "),t("vs-input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full p-1",attrs:{name:"num_psj_max",min:"1","icon-inc":"expand_less","icon-dec":"expand_more"},model:{value:a.data_local.num_psj_max,callback:function(e){a.$set(a.data_local,"num_psj_max",e)},expression:"data_local.num_psj_max"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("num_psj_max"),expression:"errors.has('num_psj_max')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("num_psj_max")))])],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],staticClass:"w-full",attrs:{"label-placeholder":"Factor Rango Min.",name:"fac_rang_min",danger:!!a.errors.first("fac_rang_min"),"danger-text":a.errors.first("fac_rang_min")?a.errors.first("fac_rang_min"):"","val-icon-danger":"clear"},model:{value:a.data_local.fac_rang_min,callback:function(e){a.$set(a.data_local,"fac_rang_min",e)},expression:"data_local.fac_rang_min"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],staticClass:"w-full",attrs:{"label-placeholder":"Factor Rango Max.",name:"fac_rang_max",danger:!!a.errors.first("fac_rang_max"),"danger-text":a.errors.first("fac_rang_max")?a.errors.first("fac_rang_max"):"","val-icon-danger":"clear"},model:{value:a.data_local.fac_rang_max,callback:function(e){a.$set(a.data_local,"fac_rang_max",e)},expression:"data_local.fac_rang_max"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],staticClass:"w-full",attrs:{"label-placeholder":"Valor","icon-pack":"feather",icon:"icon-dollar-sign","icon-no-border":"",name:"valor",danger:!!a.errors.first("valor"),"danger-text":a.errors.first("valor")?a.errors.first("valor"):"","val-icon-danger":"clear"},model:{value:a.data_local.valor,callback:function(e){a.$set(a.data_local,"valor",e)},expression:"data_local.valor"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"}),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],staticClass:"w-full",attrs:{"label-placeholder":"Factor Rango Fuera Zona 1",name:"fac_rang_fz1",danger:!!a.errors.first("fac_rang_fz1"),"danger-text":a.errors.first("fac_rang_fz1")?a.errors.first("fac_rang_fz1"):"","val-icon-danger":"clear"},model:{value:a.data_local.fac_rang_fz1,callback:function(e){a.$set(a.data_local,"fac_rang_fz1",e)},expression:"data_local.fac_rang_fz1"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],staticClass:"w-full p-1",attrs:{"label-placeholder":"Valor Fuera Zona 1","icon-pack":"feather",icon:"icon-dollar-sign","icon-no-border":"",name:"valor_fz1",danger:!!a.errors.first("valor_fz1"),"danger-text":a.errors.first("valor_fz1")?a.errors.first("valor_fz1"):"","val-icon-danger":"clear"},model:{value:a.data_local.valor_fz1,callback:function(e){a.$set(a.data_local,"valor_fz1",e)},expression:"data_local.valor_fz1"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],staticClass:"w-full",attrs:{"label-placeholder":"Factor Rango Fuera Zona 2",name:"fac_rang_fz2",danger:!!a.errors.first("fac_rang_fz2"),"danger-text":a.errors.first("fac_rang_fz2")?a.errors.first("fac_rang_fz2"):"","val-icon-danger":"clear"},model:{value:a.data_local.fac_rang_fz2,callback:function(e){a.$set(a.data_local,"fac_rang_fz2",e)},expression:"data_local.fac_rang_fz2"}})],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],staticClass:"w-full",attrs:{"label-placeholder":"Valor Fuera Zona 2","icon-pack":"feather",icon:"icon-dollar-sign","icon-no-border":"",name:"valor_fz2",danger:!!a.errors.first("valor_fz2"),"danger-text":a.errors.first("valor_fz2")?a.errors.first("valor_fz2"):"","val-icon-danger":"clear"},model:{value:a.data_local.valor_fz2,callback:function(e){a.$set(a.data_local,"valor_fz2",e)},expression:"data_local.valor_fz2"}})],1)],1),a._v(" "),t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col w-full"},[t("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[t("vx-tooltip",{attrs:{color:"primary",text:"Guardar"}},[t("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:!a.validateForm},on:{click:a.save_changes}},[a._v("Guardar Cambios")])],1),a._v(" "),t("vx-tooltip",{attrs:{color:"primary",text:"Volver"}},[t("vs-button",{staticClass:"ml-4 mt-2",attrs:{"icon-pack":"feather",icon:"icon-arrow-left",to:{name:"pasajeros-view",params:{itemId:a.data_local.empresa_id}}}},[a._v("Volver")])],1),a._v(" "),t("vx-tooltip",{attrs:{color:"primary",text:"Limpiar"}},[t("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"warning"},on:{click:a.reset_data}},[a._v("Limpiar")])],1)],1)])])])}),[],!1,null,null,null).exports,c=t("6wlp"),d={components:{itemEditSection1:o},data:function(){return{item_data:null,item_not_found:!1,urlApi:"/tarifas/pasajeros/"}},watch:{activeTab:function(){this.fetch_item_data(this.$route.params.itemId)}},methods:{fetch_item_data:function(a){var e=this;this.$store.dispatch("itemManagement/traerItem",{Id:a,Url:this.urlApi}).then((function(a){e.item_data=a.data.item[0]})).catch((function(a){404!==a.response.status?300==a.response.status?e.$vs.notify({title:"Error",text:a.response.data.message,color:"danger",iconPack:"feather",icon:"icon-alert-circle"}):e.$vs.notify({title:"Error",text:a,color:"danger",iconPack:"feather",icon:"icon-alert-circle"}):e.item_not_found=!0}))}},created:function(){c.a.isRegistered||(this.$store.registerModule("itemManagement",c.a),c.a.isRegistered=!0),this.fetch_item_data(this.$route.params.itemId)}},m=Object(l.a)(d,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"page-item-edit"}},[t("vs-alert",{attrs:{color:"danger",title:"Empresa no encontrada",active:a.item_not_found},on:{"update:active":function(e){a.item_not_found=e}}},[t("span",[a._v("La empresa con id: "+a._s(a.$route.params.itemId)+" no fue encontrado. ")]),a._v(" "),t("span",[t("span",[a._v("Mira  ")]),t("router-link",{staticClass:"text-inherit underline",attrs:{to:{name:"pasajeros"}}},[a._v("Todas las empresas")])],1)]),a._v(" "),a.item_data?t("vx-card",[t("item-edit-section1",{staticClass:"mt-4",attrs:{data:a.item_data}})],1):a._e()],1)}),[],!1,null,null,null);e.default=m.exports}}]);