(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"6wlp":function(t,a,i){"use strict";var e=i("bJaO");function s(t){if(null==t)throw new TypeError("Cannot destructure undefined")}var n={agregarItem:function(t,a){return s(t),new Promise((function(t,i){e.a.post("/api/v1"+a.Url+"store",a.item).then((function(a){t(a)})).catch((function(t){i(t)}))}))},editarItem:function(t,a){return s(t),new Promise((function(t,i){var s="";s=a.item.id?a.Url+a.item.id:a.Url,e.a.put("/api/v1"+s,a.item).then((function(a){t(a)})).catch((function(t){i(t)}))}))},traerItems:function(t,a){var i=t.commit;return new Promise((function(t,s){e.a.get("/api/v1"+a).then((function(a){i("SET_ITEMS",a.data.items),t(a)})).catch((function(t){s(t)}))}))},traerItem:function(t,a){return s(t),new Promise((function(t,i){e.a.get("/api/v1"+a.Url+"".concat(a.Id)).then((function(a){t(a)})).catch((function(t){i(t)}))}))},borrarItem:function(t,a){var i=t.commit;return new Promise((function(t,s){e.a.delete("/api/v1"+a.Url+"".concat(a.Id)).then((function(e){i("REMOVE_RECORD",a.Id),t(e)})).catch((function(t){s(t)}))}))},borrarMasivoItem:function(t,a){var i=t.commit;return new Promise((function(t,s){e.a.post("/api/v1"+a.Url+"borrar",a.Items).then((function(e){i("REMOVE_MASSIVE_RECORD",a.Items),t(e)})).catch((function(t){s(t)}))}))}};a.a={isRegistered:!1,namespaced:!0,state:{items:[]},mutations:{SET_ITEMS:function(t,a){t.items=a},REMOVE_RECORD:function(t,a){var i=t.items.findIndex((function(t){return t.id==a}));t.items.splice(i,1)},REMOVE_MASSIVE_RECORD:function(t,a){a.forEach((function(a){var i=t.items.findIndex((function(t){return t.id==a.id}));t.items.splice(i,1)}))}},actions:n,getters:{}}},DSMU:function(t,a,i){var e=i("fUC2");"string"==typeof e&&(e=[[t.i,e,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(e,s);e.locals&&(t.exports=e.locals)},"J/oO":function(t,a,i){"use strict";var e=i("DSMU");i.n(e).a},fUC2:function(t,a,i){(t.exports=i("I1BE")(!1)).push([t.i,"#avatar-col {\n  width: 10rem;\n}\n#page-item-view table {\n  /* &:not(.permissions-table) {\n     td {\n       @media screen and (max-width:370px) {\n         display: block;\n       }\n     }\n   }*/\n}\n#page-item-view table td {\n  vertical-align: top;\n  min-width: 140px;\n  word-break: break-all;\n}\n[dir] #page-item-view table td {\n  padding-bottom: 0.8rem;\n}\n@media screen and (min-width: 1201px) and (max-width: 1211px), only screen and (min-width: 636px) and (max-width: 991px) {\n#account-info-col-1 {\n    width: calc(100% - 12rem) !important;\n}\n}",""])},t30R:function(t,a,i){"use strict";i.r(a);i("bJaO");var e=i("6wlp"),s={data:function(){return{item_data:null,item_data_responsables:null,item_data_sucursales:null,item_data_ciclo_facturacion:null,item_data_ciclo_produccion:null,item_not_found:!1,urlApi:"/empresas/empresas/"}},computed:{},methods:{confirmDeleteRecord:function(){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirmar Eliminacion",text:'Este seguro que desea eliminar la siguiente empresa "'.concat(this.item_data.razon_social,'"'),accept:this.deleteRecord,acceptText:"Eliminar"})},deleteRecord:function(){var t=this;this.$store.dispatch("itemManagement/borrarItem",{Id:this.item_data.id,Url:this.urlApi}).then((function(){t.$router.push({name:"empresas"}),t.showDeleteSuccess()})).catch((function(a){var i=300==a.response.status?a.response.data.message:a;t.$vs.notify({title:"Error",text:i,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))},showDeleteSuccess:function(){this.$vs.notify({color:"success",title:"Empresa Eliminada",text:"La empresa seleccionada ya fue eliminada"})}},created:function(){var t=this;e.a.isRegistered||(this.$store.registerModule("itemManagement",e.a),e.a.isRegistered=!0);var a=this.$route.params.itemId,i=this.urlApi;this.$store.dispatch("itemManagement/traerItem",{Id:a,Url:i}).then((function(a){t.item_data=a.data.item,t.item_data_responsables=a.data.responsables,t.item_data_sucursales=a.data.sucursales,t.item_data_ciclo_facturacion=a.data.cicfac[0],t.item_data_ciclo_produccion=a.data.cicpro[0]})).catch((function(a){404!==a.response.status?300==a.response.status?t.$vs.notify({title:"Error",text:a.response.data.message,color:"danger",iconPack:"feather",icon:"icon-alert-circle"}):t.$vs.notify({title:"Error",text:a,color:"danger",iconPack:"feather",icon:"icon-alert-circle"}):t.item_not_found=!0}))}},n=(i("J/oO"),i("KHd+")),o=Object(n.a)(s,(function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{attrs:{id:"page-item-view"}},[i("vs-alert",{attrs:{color:"danger",title:"Empresa no encontrada",active:t.item_not_found},on:{"update:active":function(a){t.item_not_found=a}}},[i("span",[t._v("La empresa con id: "+t._s(t.$route.params.itemId)+" no fue encontrado. ")]),t._v(" "),i("span",[i("span",[t._v("Mira ")]),i("router-link",{staticClass:"text-inherit underline",attrs:{to:{name:"empresas"}}},[t._v("Todos las empresas")])],1)]),t._v(" "),t.item_data?i("div",{attrs:{id:"item-data"}},[i("vx-card",{staticClass:"mb-base",attrs:{title:"Informacion"}},[i("div",{staticClass:"vx-row"},[i("div",{staticClass:"vx-col w-full"},[i("div",{staticClass:"flex items-end px-3"},[i("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"InfoIcon"}}),t._v(" "),i("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Detalle")])],1),t._v(" "),i("vs-divider")],1)]),t._v(" "),i("div",{staticClass:"vx-row"},[i("div",{staticClass:"vx-col flex-1",attrs:{id:"account-info-col-1"}},[i("table",[i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Razon social")]),t._v(" "),i("td",[t._v(t._s(t.item_data.razon_social)+" ")])]),t._v(" "),i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Rut")]),t._v(" "),i("td",[t._v(t._s(t.item_data.rut)+" - "+t._s(t.item_data.dv))])]),t._v(" "),i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Giro")]),t._v(" "),i("td",[t._v(t._s(t.item_data.giro))])]),t._v(" "),i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Creado el")]),t._v(" "),i("td",[t._v(t._s(t.item_data.created_at))])])])]),t._v(" "),i("div",{staticClass:"vx-col flex-1",attrs:{id:"account-info-col-2"}},[i("table",[i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Fecha Incorporacion")]),t._v(" "),i("td",[t._v(t._s(t.item_data.fecha_incorporacion))])]),t._v(" "),i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Habilitado")]),t._v(" "),i("td",[t._v(t._s(1===t.item_data.habilitado?"Si":"No"))])]),t._v(" "),i("tr",[i("td",{staticClass:"font-semibold"},[t._v(" ")]),t._v(" "),i("td",[t._v(" ")])]),t._v(" "),i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Ultima Actualizacion")]),t._v(" "),i("td",[t._v(t._s(t.item_data.updated_at))])])])])]),t._v(" "),i("div",{staticClass:"vx-row"},[i("div",{staticClass:"vx-col flex-1",attrs:{id:"account-info-col-2"}},[i("vs-divider",{attrs:{color:"primary"}},[i("h5",[t._v("Ciclo produccion")])]),t._v(" "),i("table",[i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Tipo")]),t._v(" "),i("td",[t._v(t._s(0===t.item_data_ciclo_produccion.dias?"Personalizado":"Por defecto (Mes Completo)"))])]),t._v(" "),i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Desde")]),t._v(" "),i("td",[t._v(t._s(0===t.item_data_ciclo_produccion.dias?"Dia "+t.item_data_ciclo_produccion.inicio:"-"))])]),t._v(" "),i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Hasta")]),t._v(" "),i("td",[t._v(t._s(0===t.item_data_ciclo_produccion.dias?"Dia "+t.item_data_ciclo_produccion.fin:"-"))])])])],1),t._v(" "),i("div",{staticClass:"vx-col flex-1",attrs:{id:"account-info-col-2"}},[i("vs-divider",{attrs:{color:"primary"}},[i("h5",[t._v("Ciclo facturacion")])]),t._v(" "),i("table",[i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Tipo")]),t._v(" "),i("td",[t._v(t._s(0===t.item_data_ciclo_facturacion.dias?"Personalizado":"Por "+t.item_data_ciclo_facturacion.dias+" dias"))])]),t._v(" "),i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Desde")]),t._v(" "),i("td",[t._v(t._s(0===t.item_data_ciclo_facturacion.dias?"Dia "+t.item_data_ciclo_facturacion.inicio:"-"))])]),t._v(" "),i("tr",[i("td",{staticClass:"font-semibold"},[t._v("Hasta")]),t._v(" "),i("td",[t._v(t._s(0===t.item_data_ciclo_facturacion.dias?"Dia "+t.item_data_ciclo_facturacion.fin:"-"))])])])],1)])]),t._v(" "),i("vx-card",{staticClass:"mb-base",attrs:{title:"Responsables",collapseAction:""}},[i("div",{staticClass:"vx-row"},[i("div",{staticClass:"vx-col w-full"},[i("div",{staticClass:"flex items-end px-3"},[i("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"UsersIcon"}}),t._v(" "),i("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Detalle")])],1),t._v(" "),i("vs-divider")],1)]),t._v(" "),i("div",{staticClass:"block overflow-x-auto"},[i("vs-table",{attrs:{"max-items":"4",pagination:"",data:t.item_data_responsables},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.data;return t._l(e,(function(a,e){return i("vs-tr",{key:e},[i("vs-td",[t._v("\n                      "+t._s(a.name)+"\n                    ")]),t._v(" "),i("vs-td",[t._v("\n                       "+t._s(a.email)+"\n                    ")]),t._v(" "),i("vs-td",[t._v("\n                       "+t._s(a.telefono)+"\n                    ")])],1)}))}}],null,!1,4230713682)},[i("template",{slot:"header"}),t._v(" "),i("template",{slot:"thead"},[i("vs-th",[t._v("\n                     Nombre\n                  ")]),t._v(" "),i("vs-th",[t._v("\n                     Email\n                  ")]),t._v(" "),i("vs-th",[t._v("\n                    Telefono\n                  ")])],1)],2)],1)]),t._v(" "),i("vx-card",{staticClass:"mb-base",attrs:{title:"Sucursales",collapseAction:""}},[i("div",{staticClass:"vx-row"},[i("div",{staticClass:"vx-col w-full"},[i("div",{staticClass:"flex items-end px-3"},[i("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"MapPinIcon"}}),t._v(" "),i("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Detalle")])],1),t._v(" "),i("vs-divider")],1)]),t._v(" "),i("div",{staticClass:"block overflow-x-auto"},[i("vs-table",{attrs:{"max-items":"4",pagination:"",data:t.item_data_sucursales},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.data;return t._l(e,(function(a,e){return i("vs-tr",{key:e},[i("vs-td",[t._v("\n                      "+t._s(a.nombre)+"\n                    ")]),t._v(" "),i("vs-td",[t._v("\n                      "+t._s(a.direccion)+"\n                    ")]),t._v(" "),i("vs-td",[t._v("\n                      "+t._s(1===a.matriz?"Si":"No")+"\n                    ")])],1)}))}}],null,!1,2616758121)},[i("template",{slot:"header"}),t._v(" "),i("template",{slot:"thead"},[i("vs-th",[t._v("\n                     Nombre\n                  ")]),t._v(" "),i("vs-th",[t._v("\n                     Direccion\n                  ")]),t._v(" "),i("vs-th",[t._v("\n                    Matriz\n                  ")])],1)],2)],1)]),t._v(" "),i("div",{staticClass:"vx-col w-full flex mt-4",attrs:{id:"account-manage-buttons"}},[i("vx-tooltip",{attrs:{color:"primary",text:"Editar"}},[i("vs-button",{staticClass:"mr-4",attrs:{"icon-pack":"feather",icon:"icon-edit",to:{name:"empresas-edit",params:{itemId:t.$route.params.itemId}}}},[t._v("Editar")])],1),t._v(" "),i("vx-tooltip",{attrs:{color:"primary",text:"Volver"}},[i("vs-button",{staticClass:"mr-4",attrs:{"icon-pack":"feather",icon:"icon-arrow-left",to:{name:"empresas"}}},[t._v("Volver")])],1),t._v(" "),i("vx-tooltip",{attrs:{color:"primary",text:"Eliminar"}},[i("vs-button",{attrs:{type:"border",color:"danger","icon-pack":"feather",icon:"icon-trash"},on:{click:t.confirmDeleteRecord}},[t._v("Eliminar")])],1)],1)],1):t._e()],1)}),[],!1,null,null,null);a.default=o.exports}}]);