(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"0xTy":function(t,e,i){"use strict";i.r(e);var a=i("Snq/"),n=i.n(a);i("bJaO");i("e7F3").a.localize("en",{custom:{descripcion:{required:"La descripcion es requerido"}}});var r={components:{vSelect:n.a},props:{data:{type:Object,required:!0}},data:function(){return{urlApi:"/observaciones/observaciones/",data_local:{id:this.data.id?this.data.id:null,descripcion:this.data.descripcion?this.data.descripcion:null}}},computed:{validateForm:function(){return!this.errors.any()}},mounted:function(){},methods:{save_changes:function(){var t=this;this.$validator.validateAll().then((function(e){e&&t.$store.dispatch("itemManagement/editarItem",{item:t.data_local,Url:t.urlApi}).then((function(){t.$router.push({name:"observaciones"}),t.showDeleteSuccess()})).catch((function(e){var i=300==e.response.status?e.response.data.message:e;t.$vs.notify({title:"Error",text:i,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}))},showDeleteSuccess:function(){this.$vs.notify({color:"success",title:"Guardar registros",text:"Los registros se han guardado exitosamente."})},reset_data:function(){this.data_local={id:this.data.id?this.data.id:null,descripcion:this.data.descripcion?this.data.descripcion:null},this.errors.clear()}}},o=i("KHd+"),s=Object(o.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"item-edit"}},[i("div",{staticClass:"vx-row mt-6"},[i("vs-divider",{attrs:{color:"primary"}},[i("h5",[t._v("Datos Observacion")])]),t._v(" "),i("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[i("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full p-1",attrs:{"label-placeholder":"Descripcion",name:"descripcion",danger:!!t.errors.first("descripcion"),"danger-text":t.errors.first("descripcion")?t.errors.first("descripcion"):"","val-icon-danger":"clear"},model:{value:t.data_local.descripcion,callback:function(e){t.$set(t.data_local,"descripcion",e)},expression:"data_local.descripcion"}})],1)],1),t._v(" "),i("div",{staticClass:"vx-row"},[i("div",{staticClass:"vx-col w-full"},[i("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[i("vx-tooltip",{attrs:{color:"primary",text:"Guardar"}},[i("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:!t.validateForm},on:{click:t.save_changes}},[t._v("Guardar Cambios")])],1),t._v(" "),i("vx-tooltip",{attrs:{color:"primary",text:"Volver"}},[i("vs-button",{staticClass:"ml-4 mt-2",attrs:{"icon-pack":"feather",icon:"icon-arrow-left",to:{name:"observaciones"}}},[t._v("Volver")])],1),t._v(" "),i("vx-tooltip",{attrs:{color:"primary",text:"Limpiar"}},[i("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"warning"},on:{click:t.reset_data}},[t._v("Limpiar")])],1)],1)])])])}),[],!1,null,null,null).exports,c=i("6wlp"),d={components:{itemEditSection1:s},data:function(){return{item_data:null,item_not_found:!1,urlApi:"/observaciones/observaciones/"}},watch:{activeTab:function(){this.fetch_item_data(this.$route.params.itemId)}},methods:{fetch_item_data:function(t){var e=this;this.$store.dispatch("itemManagement/traerItem",{Id:t,Url:this.urlApi}).then((function(t){e.item_data=t.data.item})).catch((function(t){404!==t.response.status?300==t.response.status?e.$vs.notify({title:"Error",text:t.response.data.message,color:"danger",iconPack:"feather",icon:"icon-alert-circle"}):e.$vs.notify({title:"Error",text:t,color:"danger",iconPack:"feather",icon:"icon-alert-circle"}):e.item_not_found=!0}))}},created:function(){c.a.isRegistered||(this.$store.registerModule("itemManagement",c.a),c.a.isRegistered=!0),this.fetch_item_data(this.$route.params.itemId)}},l=Object(o.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"page-item-edit"}},[i("vs-alert",{attrs:{color:"danger",title:"Observacion no encontrado",active:t.item_not_found},on:{"update:active":function(e){t.item_not_found=e}}},[i("span",[t._v("La observacion con id: "+t._s(t.$route.params.itemId)+" no fue encontrado. ")]),t._v(" "),i("span",[i("span",[t._v("Mira  ")]),i("router-link",{staticClass:"text-inherit underline",attrs:{to:{name:"observaciones"}}},[t._v("Todas las observaciones")])],1)]),t._v(" "),t.item_data?i("vx-card",[i("item-edit-section1",{staticClass:"mt-4",attrs:{data:t.item_data}})],1):t._e()],1)}),[],!1,null,null,null);e.default=l.exports},"6wlp":function(t,e,i){"use strict";var a=i("bJaO");function n(t){if(null==t)throw new TypeError("Cannot destructure undefined")}var r={agregarItem:function(t,e){return n(t),new Promise((function(t,i){a.a.post("/api/v1"+e.Url+"store",e.item).then((function(e){t(e)})).catch((function(t){i(t)}))}))},editarItem:function(t,e){return n(t),new Promise((function(t,i){var n="";n=e.item.id?e.Url+e.item.id:e.Url,a.a.put("/api/v1"+n,e.item).then((function(e){t(e)})).catch((function(t){i(t)}))}))},traerItems:function(t,e){var i=t.commit;return new Promise((function(t,n){a.a.get("/api/v1"+e).then((function(e){i("SET_ITEMS",e.data.items),t(e)})).catch((function(t){n(t)}))}))},traerItem:function(t,e){return n(t),new Promise((function(t,i){a.a.get("/api/v1"+e.Url+"".concat(e.Id)).then((function(e){t(e)})).catch((function(t){i(t)}))}))},borrarItem:function(t,e){var i=t.commit;return new Promise((function(t,n){a.a.delete("/api/v1"+e.Url+"".concat(e.Id)).then((function(a){i("REMOVE_RECORD",e.Id),t(a)})).catch((function(t){n(t)}))}))},borrarMasivoItem:function(t,e){var i=t.commit;return new Promise((function(t,n){a.a.post("/api/v1"+e.Url+"borrar",e.Items).then((function(a){i("REMOVE_MASSIVE_RECORD",e.Items),t(a)})).catch((function(t){n(t)}))}))}};e.a={isRegistered:!1,namespaced:!0,state:{items:[]},mutations:{SET_ITEMS:function(t,e){t.items=e},REMOVE_RECORD:function(t,e){var i=t.items.findIndex((function(t){return t.id==e}));t.items.splice(i,1)},REMOVE_MASSIVE_RECORD:function(t,e){e.forEach((function(e){var i=t.items.findIndex((function(t){return t.id==e.id}));t.items.splice(i,1)}))}},actions:r,getters:{}}}}]);