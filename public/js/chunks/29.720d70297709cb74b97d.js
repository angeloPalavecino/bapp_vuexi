(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"6wlp":function(e,t,a){"use strict";var r=a("bJaO");function i(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var s={agregarItem:function(e,t){return i(e),new Promise((function(e,a){r.a.post("/api/v1"+t.Url+"store",t.item).then((function(t){e(t)})).catch((function(e){a(e)}))}))},editarItem:function(e,t){return i(e),new Promise((function(e,a){r.a.put("/api/v1"+t.Url+t.item.id,t.item).then((function(t){e(t)})).catch((function(e){a(e)}))}))},traerItems:function(e,t){var a=e.commit;return new Promise((function(e,i){r.a.get("/api/v1"+t).then((function(t){a("SET_ITEMS",t.data.items),e(t)})).catch((function(e){i(e)}))}))},traerItem:function(e,t){return i(e),new Promise((function(e,a){r.a.get("/api/v1"+t.Url+"".concat(t.Id)).then((function(t){e(t)})).catch((function(e){a(e)}))}))},borrarItem:function(e,t){var a=e.commit;return new Promise((function(e,i){r.a.delete("/api/v1"+t.Url+"".concat(t.Id)).then((function(r){a("REMOVE_RECORD",t.Id),e(r)})).catch((function(e){i(e)}))}))},borrarMasivoItem:function(e,t){var a=e.commit;return new Promise((function(e,i){r.a.post("/api/v1"+t.Url+"borrar",t.Items).then((function(r){a("REMOVE_MASSIVE_RECORD",t.Items),e(r)})).catch((function(e){i(e)}))}))}};t.a={isRegistered:!1,namespaced:!0,state:{items:[]},mutations:{SET_ITEMS:function(e,t){e.items=t},REMOVE_RECORD:function(e,t){var a=e.items.findIndex((function(e){return e.id==t}));e.items.splice(a,1)},REMOVE_MASSIVE_RECORD:function(e,t){t.forEach((function(t){var a=e.items.findIndex((function(e){return e.id==t.id}));e.items.splice(a,1)}))}},actions:s,getters:{}}},S6Dk:function(e,t,a){"use strict";a.r(t);var r=a("Snq/"),i=a.n(r),s=a("bJaO");a("e7F3").a.localize("en",{custom:{empresa:{required:"La empresa es requerida"},comuna:{required:"La comuna es requerida"},distancia:{required:"La distancia es requerida",decimal:"El valor debe ser numerico"},tipo:{required:"El tipo es requerido"}}});var n={components:{vSelect:i.a},props:{},data:function(){return{urlApi:"/fuerazonas/fuerazonas/",data_local:{},typeOptions:[{label:"Fuera zona 1",value:"1"},{label:"Fuera zona 2",value:"2"},{label:"Fuera zona 3",value:"3"}],empresaOptions:[]}},computed:{validateForm:function(){return!this.errors.any()}},mounted:function(){this.traeOtrosDatos()},methods:{save_changes:function(){var e=this;this.$validator.validateAll().then((function(t){t&&e.$store.dispatch("itemManagement/agregarItem",{item:e.data_local,Url:e.urlApi}).then((function(){e.$router.push({name:"fuerazonas"}),e.showDeleteSuccess()})).catch((function(t){var a=300==t.response.status?t.response.data.message:t;e.$vs.notify({title:"Error",text:a,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}))},showDeleteSuccess:function(){this.$vs.notify({color:"success",title:"Guardar registros",text:"Los registros se han guardado exitosamente."})},reset_data:function(){this.data_local={empresa_id:"",tipo:""},this.errors.clear()},traeOtrosDatos:function(){var e=this;s.a.get("/api/v1/empresas/empresas").then((function(t){e.empresaOptions=t.data.items})).catch((function(t){var a=300==t.response.status?t.response.data.message:t;e.$vs.notify({title:"Error",text:a,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}}},o=a("KHd+"),c=Object(o.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"item-add"}},[a("div",{staticClass:"vx-row mt-6"},[a("vs-divider",{attrs:{color:"primary"}},[a("h5",[e._v("Datos Fuera de Zona")])]),e._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"empresa",staticClass:"w-full p-1",attrs:{label:"Empresa",name:"empresa",dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.data_local.empresa_id,callback:function(t){e.$set(e.data_local,"empresa_id",t)},expression:"data_local.empresa_id"}},e._l(e.empresaOptions,(function(e){return a("vs-select-item",{key:e.id,attrs:{value:e.id,text:e.razon_social}})})),1),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("empresa"),expression:"errors.has('empresa')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("empresa")))])],1),e._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"tipo",staticClass:"w-full p-1",attrs:{label:"Tipo",name:"tipo",dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.data_local.tipo,callback:function(t){e.$set(e.data_local,"tipo",t)},expression:"data_local.tipo"}},e._l(e.typeOptions,(function(e){return a("vs-select-item",{key:e.value,attrs:{value:e.value,text:e.label}})})),1),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("tipo"),expression:"errors.has('tipo')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("tipo")))])],1),e._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full p-1",attrs:{"label-placeholder":"Comuna",name:"comuna",danger:!!e.errors.first("comuna"),"danger-text":e.errors.first("comuna")?e.errors.first("comuna"):"","val-icon-danger":"clear"},model:{value:e.data_local.comuna,callback:function(t){e.$set(e.data_local,"comuna",t)},expression:"data_local.comuna"}})],1),e._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],staticClass:"w-full p-1",attrs:{"label-placeholder":"Distancia",name:"distancia",danger:!!e.errors.first("distancia"),"danger-text":e.errors.first("distancia")?e.errors.first("distancia"):"","val-icon-danger":"clear"},model:{value:e.data_local.distancia,callback:function(t){e.$set(e.data_local,"distancia",t)},expression:"data_local.distancia"}})],1)],1),e._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[a("vx-tooltip",{attrs:{color:"primary",text:"Guardar"}},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:!e.validateForm},on:{click:e.save_changes}},[e._v("Guardar Cambios")])],1),e._v(" "),a("vx-tooltip",{attrs:{color:"primary",text:"Volver"}},[a("vs-button",{staticClass:"ml-4 mt-2",attrs:{"icon-pack":"feather",icon:"icon-arrow-left",to:{name:"fuerazonas"}}},[e._v("Volver")])],1),e._v(" "),a("vx-tooltip",{attrs:{color:"primary",text:"Limpiar"}},[a("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"warning"},on:{click:e.reset_data}},[e._v("Limpiar")])],1)],1)])])])}),[],!1,null,null,null).exports,l=a("6wlp"),u={components:{itemAddSection1:c},data:function(){return{urlApi:"/fuerazonas/fuerazonas/"}},watch:{},methods:{},created:function(){l.a.isRegistered||(this.$store.registerModule("itemManagement",l.a),l.a.isRegistered=!0)}},d=Object(o.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"page-item-add"}},[t("vx-card",[t("item-add-section1",{staticClass:"mt-4"})],1)],1)}),[],!1,null,null,null);t.default=d.exports}}]);